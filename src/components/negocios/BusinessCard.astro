---
const { business } = Astro.props;
import no_image from "../../images/no-image.jpg";
const whatsappUrl = `https://wa.me/${business.whatsapp}?text=${business.whatsapp_message}`;
---

<div class="cursor-pointer transition-transform duration-300 hover:scale-105">
  <div class="overflow-hidden rounded-2xl shadow-sm">
    <img
      src={no_image.src}
      alt={business.name}
      class="h-40 w-full object-cover"
    />
  </div>
  <div class="p-2 flex flex-col gap-2">
    <h3 class="font-semibold text-gray-900">{business.name}</h3>
    <p class="text-sm text-gray-500">{business.address}</p>
    <span
      class={`inline-block text-xs font-medium ${
        business.is_open ? "text-green-600" : "text-red-500"
      }`}
    >
      â— {business.status_label}
    </span>

    <a
      href={whatsappUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center justify-center rounded-full bg-green-500 px-4 py-2 text-sm font-semibold text-white hover:bg-green-600 gap-2 w-fit"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 48 48"
        class="h-5 w-5"
      >
        <path
          fill="#fff"
          d="M4.9,43.3l2.7-9.8C5.9,30.6,5,27.3,5,24C5,13.5,13.5,5,24,5c5.1,0,9.8,2,13.4,5.6	C41,14.2,43,18.9,43,24c0,10.5-8.5,19-19,19c0,0,0,0,0,0h0c-3.2,0-6.3-0.8-9.1-2.3L4.9,43.3z"
        ></path>
        <path
          fill="#40c351"
          d="M35.2,12.8c-3-3-6.9-4.6-11.2-4.6C15.3,8.2,8.2,15.3,8.2,24c0,3,0.8,5.9,2.4,8.4L11,33l-1.6,5.8	l6-1.6l0.6,0.3c2.4,1.4,5.2,2.2,8,2.2h0c8.7,0,15.8-7.1,15.8-15.8C39.8,19.8,38.2,15.8,35.2,12.8z"
        ></path>
        <path
          fill="#fff"
          fill-rule="evenodd"
          d="M19.3,16c-0.4-0.8-0.7-0.8-1.1-0.8c-0.3,0-0.6,0-0.9,0	s-0.8,0.1-1.3,0.6c-0.4,0.5-1.7,1.6-1.7,4s1.7,4.6,1.9,4.9s3.3,5.3,8.1,7.2c4,1.6,4.8,1.3,5.7,1.2c0.9-0.1,2.8-1.1,3.2-2.3	c0.4-1.1,0.4-2.1,0.3-2.3c-0.1-0.2-0.4-0.3-0.9-0.6s-2.8-1.4-3.2-1.5c-0.4-0.2-0.8-0.2-1.1,0.2c-0.3,0.5-1.2,1.5-1.5,1.9	c-0.3,0.3-0.6,0.4-1,0.1c-0.5-0.2-2-0.7-3.8-2.4c-1.4-1.3-2.4-2.8-2.6-3.3c-0.3-0.5,0-0.7,0.2-1c0.2-0.2,0.5-0.6,0.7-0.8	c0.2-0.3,0.3-0.5,0.5-0.8c0.2-0.3,0.1-0.6,0-0.8	C20.6,19.3,19.7,17,19.3,16z"
          clip-rule="evenodd"></path>
      </svg>

      Consultar
    </a>
  </div>
</div>
